# システム要件抽出プロンプト（Cursor用）

あなたはプロダクトマネージャーとシステムアーキテクトの両方の経験を持つエキスパートとして、以下の入力情報から最適なシステム要件を**統合・分析し**導き出してください。

## 入力情報

### ビジネスモデル・プロダクト・制約条件情報
`/docs/input` フォルダ内の以下のファイルを参照してください：
- `business-requirements.md`（ビジネス要件、課題、市場環境、ビジネスモデル）
- `product-requirements.md`（プロダクト要件、コアバリュー、非機能要件）
- `user-personas.md`（ターゲットユーザー）
- `user-flows.md`（ユーザーフロー）
- `feature-list.md`（機能一覧）
- `mvp-scope.md`（MVP範囲）
- `ui-ux-direction.md`（UI/UX方針）
- `README.md`（プロジェクト概要）

これらのファイルに含まれる情報（ビジネスモデル、競争優位性、プロダクト情報、制約条件など）を統合的に分析してください。

**全ての利用可能な入力情報を総合的に判断し、一貫性のある要件を定義してください。**

## 不足情報の確認

ファイルが存在しない場合や必要な情報が不足している場合は、以下のプロセスに従って対応してください：

1. 不足情報の明確化
   - 具体的にどの情報が不足しているかを明確に示してください
   - 情報カテゴリ（ビジネスモデル、プロダクト情報、制約条件）ごとに整理してください

2. 情報収集の提案
   - 不足情報を収集するための質問リストを提供してください
   - 各質問の重要度（高・中・低）を示してください

3. 代替案の提示
   - 不足情報がある場合でも、利用可能な情報から最善の分析を行ってください
   - 仮定を置く場合は、その仮定を明示してください

4. 情報不足による影響
   - 情報不足が要件定義の精度や完全性にどのような影響を与えるか説明してください
   - 重要度の高い不足情報について優先的に収集を促してください

## 出力形式

分析結果は `/docs/output/system_requirements.md` ファイルに以下の形式で出力してください：

```markdown
# システム要件定義書

## システム概要
[以下の要素を含む、300-500 文字程度の簡潔な説明。入力情報を統合して記述すること]

1. システムの目的
   - 解決する具体的な課題
   - 目標とする成果
   - 期待されるビジネスインパクト

2. 主な機能
   - コア機能（3-5 個）
   - 差別化機能（2-3 個）
   - 付加価値機能（1-2 個）

3. 提供する価値
   - ユーザーにとっての直接的価値
   - ビジネスにとっての価値
   - 社会的価値（該当する場合）

4. 実現方法の概要
   - 主要なテクノロジー要素
   - 重要なインテグレーションポイント
   - スケーラビリティへの考慮

## 情報の前提と仮定
[分析に使用した情報源（ファイル名など）と、情報が不足している場合に置いた仮定]

## 機能要件
[主要な機能とその詳細説明]

## 非機能要件
[パフォーマンス、セキュリティ、スケーラビリティなどの要件。
**ターゲットユーザー規模、ビジネス目標、制約条件などを考慮して推定し、その根拠となる仮定を明記すること。** 例:「初期ユーザー1,000人規模を想定し、主要画面のレスポンスタイムは3秒以内を目指す」]

## 技術スタック
[推奨される技術スタックと選定理由を記述してください。**特に指定がない場合は、以下のモダンな技術スタックを第一候補として検討し、その妥当性を評価してください。**

- **フロントエンド:** Next.js 16以降(React)
- **言語:** TypeScript
- **バックエンド:** Next.js App Router
- **データベース:** supabase (PostgreSQL)
- **認証** Clerk
- **ホスティング:** Vercel

**選定理由は、機能・非機能要件、チームスキル（判明している場合）、スケーラビリティ、開発効率、コスト、保守性などを総合的に考慮して記述すること。**]

## 開発ロードマップ
[フェーズ分けされた開発計画。
**フェーズ分けの簡単な根拠（例: MVPへの注力、リスク軽減、技術的依存関係など）も示すこと。**]

## リスク分析
[予想されるリスクと対策。
**可能であれば、リスクをカテゴリー（例: 技術的、ビジネス的、法的/コンプライアンス、運用的）に分類して記述すること。**]

## UI/UXの方向性
[UI/UXデザインの基本方針を定義する。ワイヤーフレームは不要だが、後続の詳細設計のインプットとなる情報を記述すること。]
- **デザインコンセプト**: [例: ミニマル、モダン、親しみやすい]
- **トーン＆マナー**: [例: プロフェッショナル、カジュアル、遊び心がある]
- **ターゲットデバイス**: [例: PCメイン、モバイルファースト]
- **参考サイト/アプリ**: [具体的なURLを2-3個挙げる]

## 追加情報リクエスト
[より正確な要件定義のために必要な追加情報のリスト。
**各質問項目について、要件定義への影響度を考慮し、優先順位（高・中・低など）を示すこと。**]
```

## 評価基準

生成された要件は以下の基準で評価されます：

1. 明確性
   - 具体的で測定可能な目標が設定されているか
   - 機能の範囲が明確に定義されているか
   - 価値提供の方法が具体的に説明されているか

2. 一貫性
   - ビジネスモデルとの整合性
   - 7Powers との整合性
   - 制約条件との整合性

3. 実現可能性
   - 技術的な実現可能性
   - 予算内での実現可能性
   - 期間内での実現可能性

4. 網羅性
   - 必要な要素が漏れなく含まれているか
   - ステークホルダーの要求が反映されているか
   - リスクや制約が考慮されているか

5. 仮定の妥当性
   - 置かれた仮定は合理的か
   - 仮定が要件に与える影響は適切に評価されているか

## フォローアップ質問

不明点がある場合は、分析の質を高めるため以下のような質問を行ってください：

1. ビジネスモデルの検証
   - "収益化のメカニズムをより具体的に説明していただけますか？"
   - "主要なコスト要因は何を想定していますか？"

2. 競争優位性の確認
   - "類似サービスと比較して、どのような差別化要因がありますか？"
   - "その優位性は持続可能なものですか？"

3. 技術的実現性
   - "想定している処理量や負荷はどの程度ですか？"
   - "特に技術的なチャレンジが予想される機能はありますか？"

4. 規模の確認
   - "初期のターゲットユーザー数はどの程度を想定していますか？"
   - "1 年後、3 年後のユーザー数目標は設定されていますか？"

5. 情報不足への対応
   - "情報が不足している[具体的な項目]について、どのように対応すべきですか？"
   - "不足情報がある状態で進めるリスクをどのように評価しますか？"
