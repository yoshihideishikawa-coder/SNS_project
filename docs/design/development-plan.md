# 開発計画書

## 1. 概要
本ドキュメントは、「Seichi Route（仮）」MVP開発の進め方、タスク分解、スケジュール、リスク管理を定義します。

## 2. 開発ロードマップ

### Phase 1: MVP (Minimum Viable Product) - 1.5ヶ月
- **ゴール**: コア体験（写真閲覧、自動ルート生成、投稿）の実装と検証。
- **スコープ**:
  - 主要聖地（東京・京都・大阪）のDB構築
  - タイムライン/グリッド閲覧
  - 投稿（Exif解析・自動マッピング）
  - ユーザー認証・保存機能

### Phase 2: User Experience Improvement - +1.5ヶ月
- **ゴール**: 使い勝手の向上とリテンション強化。
- **スコープ**:
  - 検索・フィルタ機能（エリア、作品名）
  - マップ機能強化（現在地周辺検索）
  - 手動ルート編集のUX改善

### Phase 3: Community & Scale - +3ヶ月〜
- **ゴール**: コミュニティ活性化。
- **スコープ**:
  - コメント、Q&A
  - 多言語対応
  - ユーザーによるスポット提案

## 3. タスク分解 (WBS) - Phase 1 MVP

### 3.1 セットアップ & インフラ (Week 1)
- [ ] Next.js プロジェクト初期化 (TypeScript, Tailwind, ESLint)
- [ ] Supabase プロジェクト作成・設定 (DB, Storage)
- [ ] Clerk プロジェクト作成・設定
- [ ] Vercel デプロイパイプライン構築
- [ ] データベースマイグレーション作成 (`Spots`, `Routes` 等)

### 3.2 聖地データ整備 (Week 1-2)
- [ ] 主要聖地リストアップ (100箇所目標)
- [ ] 聖地データのCSV作成 (名称, 緯度経度, 作品名)
- [ ] DBへのシードデータ投入スクリプト作成

### 3.3 コア機能実装 - バックエンド (Week 2-3)
- [ ] Server Actions: 写真アップロード・Storage保存
- [ ] Server Actions: ルート自動生成ロジック (PostGIS検索)
- [ ] Server Actions: ルート作成・保存
- [ ] Server Actions: タイムライン取得

### 3.4 コア機能実装 - フロントエンド (Week 3-5)
- [ ] 共通レイアウト・ヘッダー・フッター実装
- [ ] 認証画面・フロー実装 (Clerk Components)
- [ ] **Home**: タイムライン表示コンポーネント
- [ ] **Home**: グリッド表示コンポーネント
- [ ] **Route Detail**: マップ表示 (Google Maps) とスポットリスト
- [ ] **Post**: 写真選択・プレビュー・投稿確認画面

### 3.5 テスト & 修正 (Week 6)
- [ ] 主要機能のE2Eテスト
- [ ] 実機でのUI確認 (iOS/Android)
- [ ] パフォーマンスチューニング (Lighthouseスコア改善)

## 4. リスク管理

| リスク項目 | 発生確率 | 影響度 | 対策 |
| :--- | :--- | :--- | :--- |
| **初期コンテンツ不足** | 高 | 高 | 開発と並行して、運営側で初期コンテンツ（公式ルート）を作成・投入する時間を確保する。 |
| **自動ルート生成の精度不足** | 中 | 中 | DBのマッチング半径パラメータを調整可能にする。手動修正UIを分かりやすく作り込む。 |
| **Google Maps APIコスト超過** | 低 | 中 | 開発中は制限をかける。リスト表示ではStatic Mapsや独自アイコンのみの使用を検討する。 |
| **位置情報なし画像の投稿** | 中 | 低 | エラーにせず、「場所不明」として扱い、ユーザーに地図からピンを刺させるフォールバックUIを用意する。 |

## 5. 運用・保守
- **コード管理**: GitHub
- **タスク管理**: GitHub Projects または Notion
- **ドキュメント**: `/docs` フォルダを常に最新に保つ
